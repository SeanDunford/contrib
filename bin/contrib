#!/usr/bin/env node
'use strict';

var contrib = require('../lib/contrib.js');
var parseArgs = require('minimist');
var fs = require('fs');

// first two args are always [node, contrib]
var allArgs = parseArgs(process.argv.slice(2));
var commands = allArgs._;
var options = allArgs;

var config;
var configFile = options.config || './contrib.json';

if (fs.existsSync(configFile)) {
  config = JSON.parse(fs.readFileSync(configFile, 'utf8'));
}

contrib(config, commands, options);
